<audio id="azanAudio" src="https://www.islamcan.com/common/audio/adhan/adhan-from-egypt.mp3"></audio>

<script>
    let count = 0;
    const days = ["Ø§Ù„Ø³Ø¨Øª", "Ø§Ù„Ø£Ø­Ø¯", "Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†", "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", "Ø§Ù„Ø®Ù…ÙŠØ³", "Ø§Ù„Ø¬Ù…Ø¹Ø©"];

    // Ø¯Ø§Ù„Ø© Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ù…Ø¹ Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø²
    function addCount() {
        count++;
        document.getElementById('counter').innerText = count;
        if(navigator.vibrate) navigator.vibrate(50);
    }

    // Ø¯Ø§Ù„Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ø°Ø§Ù† Ù„Ù„ØªØ¬Ø±Ø¨Ø©
    function playAzan() {
        const audio = document.getElementById('azanAudio');
        audio.play().catch(e => alert("Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø£ÙˆÙ„Ø§Ù‹ Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª"));
    }

    function resetCounter() {
        count = 0;
        document.getElementById('counter').innerText = 0;
    }

    function setZekr(z) {
        document.getElementById('zekrName').innerText = z;
        resetCounter();
    }

    function showPage(p) {
        document.getElementById('subhaPage').style.display = p === 'subha' ? 'block' : 'none';
        document.getElementById('prayerPage').style.display = p === 'prayer' ? 'block' : 'none';
        document.getElementById('navSubha').className = p === 'subha' ? 'active' : '';
        document.getElementById('navPrayer').className = p === 'prayer' ? 'active' : '';
    }

    // --- ÙƒÙˆØ¯ Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø®Ø¶Ø± Ø§Ù„Ø°ÙƒÙŠ ---
    let deferredPrompt;
    const installBtn = document.createElement('button');
    installBtn.innerHTML = "ðŸ“¥ ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚";
    installBtn.style = "position:fixed; top:10px; left:10px; background:#00ff88; color:#000; border:none; padding:10px; border-radius:10px; font-weight:bold; display:none; z-index:10000; box-shadow: 0 0 10px #00ff88;";
    document.body.appendChild(installBtn);

    window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        installBtn.style.display = 'block';
    });

    installBtn.addEventListener('click', () => {
        installBtn.style.display = 'none';
        deferredPrompt.prompt();
    });

    // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¬Ø¯ÙˆÙ„
    const tb = document.getElementById('tableBody');
    if(tb) {
        days.forEach(d => {
            tb.innerHTML += `<tr>
                <td style="color:gold">${d}</td>
                <td contenteditable="true">04:30</td>
                <td contenteditable="true">12:05</td>
                <td contenteditable="true">03:20</td>
                <td contenteditable="true">06:10</td>
                <td contenteditable="true">07:30</td>
            </tr>`;
        });
    }

    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù€ Service Worker (Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹ Ù„Ø¸Ù‡ÙˆØ± Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„)
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js');
    }
</script>
